<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Stor.js  by orzogen</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Stor.js </h1>
        <p>LocalStorage for Humans</p>

        <p class="view"><a href="https://github.com/orzogen/stor.js">View the Project on GitHub <small>orzogen/stor.js</small></a></p>


        <ul>
          <li><a href="https://github.com/orzogen/stor.js/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/orzogen/stor.js/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/orzogen/stor.js">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>Stor, A LocalStorage Helper Library</h1>

<h2>About</h2>

<p>Stor is a lightweight JavaScript library that aid and ease the use of localStorage. It includes set and get methods that obviate the need to deal with JSON parsing, allowing you to save objects to localStorage while maintaining code legibility and conciseness. Stor also includes advanced search functionality, enabling filtering using regex and multiple terms, while also providing search utility for both keys and values. Stor is not an ORM, nor does it make use of proprietary objects. It is simply a collection of functions that make interfacing with localStorage more efficient and easier. </p>

<h2>Why</h2>

<p>Stor was a product of an insufferably monotonous Saturday afternoon.</p>

<h2>Suggestion</h2>

<p>If you'd like to request a feature, <a href="mailto:orzogen@gmail.com">email me</a>.</p>

<h2>Use</h2>

<p>All functions are properties of the <code>Stor</code> object.</p>

<p>Entries can be written to localStorage by calling <code>create(KEY, VALUE)</code>. Values can be strings: <code>create("Name", "Dan")</code>, or objects: <code>create("numbers", [1,4,14]])</code>. If no key is specified, an random 8-digit string will be generated and set as the key. Calling <code>create()</code> will return a two-index array with the key and value.</p>

<p>Entries can be deleted using the <code>remove()</code> function. This function accepts a single string as a parameter and will delete the entrie for which that string is the key. This function will return a two-index array with the deleted key and value.</p>

<p>Pairs can be queried based on their key by using <code>find(KEY)</code>. Parameters can be strings: <code>find("Name")</code>, arrays of strings: <code>find(["Name","Age"])</code>, or regular expressions: <code>find(/N.{1,}/i)</code>. If only a single key is specified as a parameter, the returned value will be the value that corresponds to that key. In cases for which multiple parameters are specified, results will be returned in a hash of keys and values. </p>

<p>Pairs can also be queried based on their value in a manner similar to that of <code>find()</code>, using the <code>where()</code> function. This will return a hash of keys and values that meet the search criterion. Please note that objects are converted to strings when they are stored (this is a major shortcoming of localStorage in general), and using a regex as a parameter may return stringified objects. Use with discretion.</p>

<p>An array of all keys can be generated using the <code>keys()</code> function.</p>

<p>A function can be mapped over all pairs in localStorage using the <code>map()</code> function, which returns a hash of each pair that has been acted upon.</p>

<h2>Examples</h2>

<pre><code>Stor.create("Person1", "Dan Ruswick")  
    =&gt; ["Person1", "Dan Ruswick"]

Stor.create("DR")  
    =&gt; ["f31273d5", "DR"]

Stor.create("Dan", {name: "Dan Ruswick", age: 16, profession: "writer"})
    =&gt; ["Dan", {name: "Dan Ruswick", age: 16, profession: "writer"}]

Stor.remove("Dan")
    =&gt; ["Dan Ruswick", {name: "Dan Ruswick", age: 16, profession: "writer"}]

Stor.find("Person1")
    =&gt; ["Dan Ruswick"]

Stor.find(["Dan", "Aristotle"])
    =&gt; { "Dan" : {name: "Dan Ruswick", age: 16, profession: "writer"}, "Aristotle" : {name: "Aristotle", age: 2396, profession: ["ethicist","writer","poet","misogynist"]} }

Stor.find(/[dc].{1,}/i) // Matches keys "Dan" and "Camus"
    =&gt; { "Dan" : {name: "Dan Ruswick", age: 16, profession: "writer"}, "Camus" : {name: "Albert Camus", age: 99, profession: "existentialist"} }

Stor.where("Dan Ruswick")
    =&gt; ["Person1", "Dan Ruswick"]

Stor.where(["John Smith", "Johnny Appleseed"])
    =&gt; { Person3: "John Smith", Person2: "Johnny Appleseed" }

Stor.where(/[J].{1,}/) //Matches John Smith and Johnny Appleseed
    =&gt; { Person3: "John Smith", Person2: "Johnny Appleseed" }

Stor.keys()
    =&gt; ["Person1", "Person2", "Person3", "Dan Ruswick", "Aristotle", "Camus", ]

Stor.map(function(value){if(typeof value == "string"){return value + "!"}})
    =&gt; { Person1: "Dan Ruswick!", Person2: "Johnny Appleseed!", Person3: "John Smith!" }
</code></pre>

<h2>Todo</h2>

<ol>
<li>Allow searching by value using a hash of values as the search parameter.</li>
</ol>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/orzogen">orzogen</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>